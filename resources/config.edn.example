{;; SimpleFin Bridge configuration
 ;; DO NOT put the access URL directly here!
 ;; Instead, set the environment variable SIMPLEFIN_ACCESS_URL
 ;; The access URL will be read from the environment at runtime
 :simplefin {:access-url :env  ; Will read from SIMPLEFIN_ACCESS_URL env var
             :institution-mapping {#"(?i)wealthsimple" :wealthsimple
                                   #"(?i)scotiabank" :scotiabank
                                   #"(?i)canadian.?tire" :canadian-tire
                                   #"(?i)amazon" :amazon-mbna}}

 ;; Data directories
 :data-dir "data"
 :csv-dir "data/csv"
 :pdf-dir "data/pdf"

 ;; Institution-specific CSV configurations
 :institutions {:scotiabank {:type :csv
                             :date-format "yyyy-MM-dd"
                             :columns {:date 0 :description 1 :amount 2}}
                :canadian-tire {:type :csv
                                :date-format "MM/dd/yyyy"
                                :columns {:date 0 :description 1 :debit 2 :credit 3}}
                :amazon-mbna {:type :csv
                              :date-format "yyyy-MM-dd"
                              :columns {:date 0 :description 1 :amount 2}}
                :wealthsimple {:type :simplefin}
                :manulife {:type :pdf}
                :canada-life {:type :pdf}
                :merix {:type :pdf}
                :house {:type :manual
                        :value 500000}}

 ;; Transaction categorization rules
 :category-rules [{:pattern #"(?i)grocery|superstore|loblaws|sobeys"
                   :category :groceries}
                  {:pattern #"(?i)restaurant|cafe|coffee|tim hortons"
                   :category :dining}
                  {:pattern #"(?i)gas|petro|shell|esso"
                   :category :transportation}
                  {:pattern #"(?i)insurance"
                   :category :insurance}
                  {:pattern #"(?i)mortgage|rent"
                   :category :housing}
                  {:pattern #"(?i)utilities|hydro|electricity|water"
                   :category :utilities}
                  {:pattern #"(?i)transfer|payment"
                   :category :transfer}]}
